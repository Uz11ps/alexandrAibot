# Исправление ошибки 403: access_denied

## Проблема
При попытке авторизации появляется ошибка:
```
Ошибка 403: access_denied
Приложение не прошло проверку Google
```

## Причина
Приложение находится в режиме тестирования и может использоваться только одобренными тестовыми пользователями.

## Решение: Добавление тестовых пользователей

### Шаг 1: Откройте Google Cloud Console

1. Перейдите на https://console.cloud.google.com/
2. Выберите ваш проект (gen-lang-client-0861746871)

### Шаг 2: Настройка экрана согласия OAuth

1. В левом меню выберите **"APIs & Services"** → **"OAuth consent screen"** (Экран согласия OAuth)
2. Убедитесь, что выбран тип **"External"** (Внешний)
3. Нажмите **"SAVE AND CONTINUE"** на всех экранах до раздела **"Test users"**

### Шаг 3: Добавление тестовых пользователей

1. На экране **"Test users"** (Тестовые пользователи) нажмите **"+ ADD USERS"** (+ Добавить пользователей)
2. Введите email адреса пользователей, которым нужен доступ:
   - `vvlad1001@gmail.com` (ваш email)
   - Можно добавить другие email адреса сотрудников
3. Нажмите **"ADD"** (Добавить)
4. Нажмите **"SAVE AND CONTINUE"** (Сохранить и продолжить)

### Шаг 4: Проверка настроек

Убедитесь, что:
- ✅ Тип приложения: **External** (Внешний)
- ✅ Ваш email добавлен в список **Test users**
- ✅ Все обязательные поля заполнены

### Шаг 5: Повторная авторизация

1. Закройте браузер полностью
2. Запустите бота снова: `python main.py`
3. При открытии браузера войдите с email `vvlad1001@gmail.com`
4. Теперь авторизация должна пройти успешно

## Альтернативное решение: Публикация приложения (для продакшена)

Если вы хотите, чтобы приложение могли использовать любые пользователи без ограничений:

1. В **"OAuth consent screen"** прокрутите вниз
2. Нажмите **"PUBLISH APP"** (Опубликовать приложение)
3. Подтвердите публикацию
4. **Внимание:** Публикация требует проверки Google и может занять несколько дней

**Рекомендация:** Для начала используйте режим тестирования с добавленными пользователями - это быстрее и проще.

## Быстрая инструкция

1. Откройте: https://console.cloud.google.com/apis/credentials/consent
2. Выберите проект: **gen-lang-client-0861746871**
3. Перейдите в раздел **"Test users"**
4. Нажмите **"+ ADD USERS"**
5. Добавьте: `vvlad1001@gmail.com`
6. Сохраните
7. Перезапустите бота

## После исправления

После добавления вашего email в тестовые пользователи:
- ✅ Авторизация пройдет успешно
- ✅ Создастся файл `credentials/google-token.json`
- ✅ Бот получит доступ к Google Drive
- ✅ Команда `/upload` будет работать

